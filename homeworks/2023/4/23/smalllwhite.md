`CSAPP` 第一章节阅读

- 程序具体表达的信息结合上下文来判断的，即信息 = 比特位 + 上下文。

- `gcc` 编译 `c/cpp` 的过程

	![image-20230422111813883](https://typra-pictures.oss-cn-beijing.aliyuncs.com/imgs/image-20230422111813883.png)

	1. 预处理阶段：`c/cpp` 程序被预处理器处理变成 `.i` 文件，这一部分主要是处理`.c/cpp` 文件中的以 `#` 开头的命令，将关联的文件文本合并到当前文本中，生成 `.i` 文件。

		> 一般含 # 开头的命令称之为预处理命令

		将不同的模块文件汇总在一起，宏转换。

	2. 编译阶段：`.i` 文件被编译器翻译成汇编文本

		> 注：这里不一定编译成为汇编语言，也有可能编译成为其他低级语言

	3. 汇编阶段：汇编文本经过汇编器，编译成为机器语言指令，并且把这些指令打包成为 `.o` 二进制文件。

	4. 链接阶段：调用其他文件中的函数，其他函数可能被编译生了另外的`.o` 文件，这里需要将他们链接起来，生一个可执行的文件。

了解编译系统对软件开发是有很大益处的，比如？

- 优化程序性能

	1. 一个`switch` 速度会比一系列的 `if-else` 速度快很多 ？ 

		因为在编译阶段，`switch-case` 会生成一个跳转表来指示实际的 `case`，而`if-else` 本质上是一个逻辑树，需要不断遍历才能执行对应程序

	2. 一个函数调用的开销有多大？主要在哪些方面 ？

		函数调用的过程

		1. 指令跳转
		2. 数据加载入栈：当调用一个函数时，通常需要在栈上保存一些寄存器的当前值，以便函数执行完成后可以恢复。这会产生一些开销
		3. 参数传递，需要将参数从调用者传递到被调用者。这可能需要将参数复制到栈上或适当的寄存器中，这也会产生一定的开销。
		4. 返回值，函数返回时，可能需要将返回值从被调用者传递回调用者。这可能需要在寄存器或栈上复制返回值。
		5. 指令跳转，调用函数时，需要执行跳转到函数起始地址的指令，然后在函数执行完成后，执行返回指令以跳回调用者
		
		主要开销在程序跳转和寄存器读取数据
		
		
