缓存的一致性与同步主要指的是多个缓存或缓存和主内存之间的数据一致性问题。常见的缓存一致性协议有:

1. MSI - 修改/共享/无效 三种状态

2. MESI - 修改/独享/共享/无效 四种状态

3. MOESI - 上面的E状态再细分为独享和共享

缓存同步方式有:

1. 写直达: 数据同时写入缓存和内存,保证强一致性。

2. 回写: 定期或事件驱动回写缓存脏数据,延迟一致性。

3. 高速缓存一致性协议: 通过各缓存行状态实现Directories/Snooping来协调一致性。

4. 锁校验和: 在共享内存上加锁来同步对缓存区的访问。

5. 消息传递: 点对点消息维护缓存之间同步。