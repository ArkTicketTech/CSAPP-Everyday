8.5.5 编写信号处理程序
1.安全的信号处理
信号处理是一个并发问题，信号处理程序与主程序及其他信号处理程序使用同样的全局变量。
异步信号安全的函数原因有二：
要么它是可重入的，要么它不能被信号处理程序中断。
保存和恢复errno：由于许多Linux异步信号安全的函数会返回errno。
因此在进入处理程序时需要把errno保存在局部变量中。
阻塞所有的信号以保护对共享全局数据的访问。
使用volatile声明全局变量。
使用sig_atomic_t声明标志。
