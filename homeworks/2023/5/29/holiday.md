空间局部性与时间局部性是**高速缓存设计与程序优化**的理论基础。它们描述了程序在一定时间范围内的数据/指令访问具有的相近度特征,高速缓存利用这一特征来提高命中率与系统性能。

具体来说:

1. 空间局部性:空间局部性是指程序在短时间内会反复访问相近位置的存储单元。它体现在指令的顺序执行和数据的连续访问上。

   例如,一个循环体内会重复执行相同的一组指令;一个数组或结构体会被连续访问多个元素。高速缓存会将这些相近位置的数据和指令预取到缓存中,以便后续快速访问。提高空间局部性可以增大缓存块大小,或者调整数据结构使相关数据连续存储。

2.  时间局部性:时间局部性是指程序在短时间内会反复访问同一存储单元。它体现在循环和子程序的多次调用上。

   例如,循环变量在每次迭代中被访问;子程序在短时间内被反复调用。高速缓存同样会预取这些短期重用的数据到缓存中,以减少重复访问主存的次数。提高时间局部性可以复用变量而非每次都取新变量,或者增加循环展开因子。

空间局部性与时间局部性描述了程序存储访问模式的重要特征,高速缓存设计人员利用这两种局部性来预测程序未来一小段时间内的数据与指令访问,并将其预取到缓存中,大幅提高系统性能。