1. 流水线可以并行执行多条指令,但存在数据依赖性问题。可以通过以下方式减少冒险并提高性能:

   (1) 使用无依赖的指令:如相邻的加法指令,可以并行执行而不会有数据依赖问题。

   (2) 插入NOP指令:在相关指令间插入NOP指令以增加其距离,缓解数据依赖,利于并行执行。例如:

   ```
   assembly
   add r1, r2, r3  
   sub r4, r1, r5
   ```

   修改为:

   ```
   assembly 
   add r1, r2, r3  
   nop  
   nop 
   sub r4, r1, r5
   ```

2. 乱序执行可以在没有数据依赖的指令间改变执行顺序,以尽早产生结果并提高效率。可以通过以下方式产生更多无依赖指令以利用乱序执行:

   (1) 使用寄存器来存储中间结果:不需要将中间结果写回内存,可以避免数据依赖并产生更长的无依赖指令序列。

   (2) 编写无依赖的指令:尽量生成独立的计算指令,不依赖前序结果,利于乱序执行。

   例如:

   ```
   assembly
   load r1, [x]  
   add r2, r1, #1  
   store r2, [y]
   load r3, [z]
   sub r4, r3, #2
   ```

   修改为:

   ```
   assembly
   load r1, [x]  
   add r2, r1, #1  
   load r3, [z]
   sub r5, r3, #2 
   store r2, [y]  
   add r6, r5, #3 
   ```

   增加了无依赖指令,CPU可以乱序执行add r6与store r2,不必等待store r2完成。 

