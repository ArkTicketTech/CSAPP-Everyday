共享文件

`linux` 内核用三个相关对数据结构来表示打开的文件

- 描述符表：每个进程都有它独立的描述符表，他的表项有进程打开的文件描述符来索引的，每个打开的描述符表指向文件表的表项。
- 文件表 (file table) 。打开文件的集合是由一张文件表来表示的，所有的进程共享这 张表。每个文件表的表项组成(针对我们的目的)包括当前的文件位置、引用计数 (reference count) (即当前指向该表项的描述符表项数)，以及一个指向 v-node 表中 对应表项的指针 。 关闭一个描述符会减少相应的文件表表项中的引用计数。内核不 会删除这个文件表表项，直到它的引用计数为零。
-  v-node 表 (v-node table) 。 同文件表一样，所有的进程共享这张 v-node 表 。 每个表 项包含 s七at 结构中的大多数信息，包括 st_mode 和 st_size 成员。



