链接静态库

将所有相关的目标模块打包成为一个单独的文件，称为静态库，可以用作链接器的输入

当链接器构造一个输出的可执行文件时，只复制静态库里被应用程序引用的目标模块



静态库以一种称为存档的特殊文件存在磁盘

存档文件是一组连接起来的可重定位目标文件的集合，有一个头部用来描述每个成员目标文件的大小和位置

存档文件名用.a 标识



重定位

链接器完成符号解析之后，把代码中的符号引用与符号定义关联起来

合并输入模块，为每个符号分配运行时地址

-   重定位节和符号定义
    -   链接器把所有同类型的节合并为聚合节
        -   如，所有输入模块的.data节被合成一个节，成为输出的可执行目标文件的.data节
        -   链接器将运行时内存地址赋给聚合节，赋给输入模块中定义的节，赋给输入模块定义的每个符号
        -   此时，程序中的每条指令和全局变量都有唯一的运行时内存地址
-   重定位节中的符号引用
    -   链接器修改代码节和数据节中的每个符号的引用，使之指向正确的运行时地址
    -   依赖可重定位目标模块中的重定位条目（relocation entry）的数据结构



Pp. 475-479