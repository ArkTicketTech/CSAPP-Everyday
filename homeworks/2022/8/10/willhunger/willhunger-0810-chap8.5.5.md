# Ch8 Exceptional Control Flow

## 8.5 Signals

### 8.5.5 Writing Signal Handlers

#### 2. 正确的信号处理

未处理信号是不排队的，因为 pending 位向量中每种类型的信号只对应有一位，所以每种类型最多只能有一个未处理的信号。其关键思想是：如果存在一个未处理的信号，则表明至少有一个信号到达了。

> 僵死进程在 ps 中有 "defunct" 标识。

因此，不可以使用信号来对其他进程中发生的事情计数。

#### 3. 可移植的信号处理

Unix 信号处理的缺陷是不同的系统的信号处理语义不同：

* `singal` 函数的语义不同，某些 Unix 系统上处理以后会恢复该信号的默认值。
* 系统调用可以被中断，程序员必须手动重启被中断的系统调用的代码。

针对上述方式，posix 标准定义了 `sigaction` 来明确用户设置信号处理程序的语义。