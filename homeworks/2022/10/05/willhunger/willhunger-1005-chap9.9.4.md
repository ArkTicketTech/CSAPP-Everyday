# Ch9 VM as a Tool for Caching

## 9.9 Dynamic Memory Allocation

### 9.9.4 Fragmentation

碎片（Fragmentation）：虽有有未使用的内存，但不能用来满足分配请求时；存在内部碎片和外部碎片两种情况。

* 内部碎片：分配块比有效载荷大时发生的，例如分配器的对齐约束条件造成的。内部碎片的数量取决于以前请求的模式和分配器的实现方式。
* 外部碎片：空闲内存合计起来足够满足一个分配请求，但时没有一个单独的空闲块足够大可以来处理这个请求时发生的。外部碎片取决于以前请求的模式、分配器的实现方式、将来的请求模式。外部碎片难以量化，因此分配器常采用启发式策略来维持少量的大空闲块。