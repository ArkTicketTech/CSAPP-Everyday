# Ch9 VM as a Tool for Caching

## 9.3 VM as a Tool for Memory Management

操作系统为每一个进程提供一份独立的页表，即一个独立的虚拟地址空间。

VM 机制简化了链接、加载、代码和数据共享，以及应用程序的内存分配。

* 简化链接：独立的地址空间允许每个进程的内存映像使用相同的基本格式，而不管代码和数据实际存放在物理内存的何处。这简化了链接器的设计和实现，允许链接器生成完全链接的可执行文件。
* 简化加载：更加容易向内存中加载可执行文件和共享文件对象。例如，加载可执行文件中的 .text 节时，Linux 加载器为代码和数据段分配虚拟页，将其标记为未被缓存的，将页表条目指向目标文件中适当的位置；加载器不会复制任何数据，而是 CPU 引用指令时，按需调入页面。
* 简化共享：进程有独立的地址空间。
* 简化内存分配：向用户提供了简单的分配额外内存的机制，连续 k 个虚拟内存页面 -> 任意位置的 k 个任意物理页面。

