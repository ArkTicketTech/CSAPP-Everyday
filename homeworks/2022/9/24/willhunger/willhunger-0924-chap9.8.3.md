# Ch9 VM as a Tool for Caching

## 9.8 Memory Mapping

### 9.8.3 The execve Function Revisited

execve('a.out', NULL, NULL) 调用的流程：

1. 删除已存在的用户区域，删除当前进程虚拟地址的用户部分中的已存在的区域结构。
2. 映射私有区域，为新程序的代码、数据、bss 和栈区域创建新的区域结构；这些区域都是私有的、写时复制的；代码和数据区域会被映射为 a.out 文件中的 .text 和 .data 区，bss 区域是请求二进制零的，映射到匿名文件，其大小包含在 a.out 中；栈和堆区域也是请求二进制零的，初始长度为0。
3. 映射私有区域，如果 a.out 程序与共享对象链接，则需要将其映射到用户虚拟地址空间的共享区域内。
4. 设置程序计数器，PC，指向代码区域的入口点。