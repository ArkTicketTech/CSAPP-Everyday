# Ch8 Exceptional Control Flow

## 8.2 Processes

### 8.2.4 User and Kernel Modes

如何限制一个应用可执行的指令以及可访问的地址空间范围？

* 处理器使用某个控制寄存器中的一个模式位（mode bit），来描述当前进程享受的特权。
* 如果设置了该模式位，则该进程运行在内核模式中，其可以执行指令集中的所有指令和访问系统中的任何内存位置。
* 如果未设置模式位，则该进程运行在用户模式中，用户模式中的进程不允许执行任何特权指令（privileged instruction），例如停止处理器、改变模式位、发起 IO 操作等，也不允许直接引用地址空间中内核区的代码和数据。用户程序必须通过系统调用间接的访问内核代码和数据。
* 从用户模式进入内核模式，必须借助于中断、故障或者陷入系统调用的异常机制。

> Linux 的 `/proc` 文件系统，允许用户模式进程访问内核数据结构的内容，`/sys` 文件系统，可以输出关于系统总线和设备的额外的底层信息。