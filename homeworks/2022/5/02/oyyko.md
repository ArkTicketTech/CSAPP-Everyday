## 虚拟内存作为内存保护的工具

如何控制对于内存系统的访问，不允许用户进程修改它的只读代码段，不允许用户进程修改内核中的数据。

**在页表里面加上许可位**

如果违反了，则触发异常。Linux会称为**段错误**



翻译机制：

CPU中有一个页表基址寄存器（PTBR）指向当前页表。n位虚拟地址分为VPO和VPN（页偏移和页号）

当页面命中的时候，步骤是：

1. CPU生成虚拟地址 发送给MMU
2. MMU生成PTE地址 并从主存得到
3. 主存给MMU返回PTE
4. MMU构造物理地址 返回给主存
5. 主存把数据给CPU



