# 多级页表

**用来压缩页表的方法**

32位的地址空间，4字节PTE，4KB的页面 则页表的大小是：4MB 一共需要$2^{20}$个PTE

需要一直有4MB大小的页表存在内存中。

如果用二级页表，每一个一级页表里面的PTE负责映射地址空间里面4MB的片。则32位地址空间一共是4GB 那么一级页表需要1024个PTE

二级页表里面 每一个PTE对应的是虚拟地址空间的4KB 那么一个二级页表里面需要映射4MB的空间 那么就需要1024个PTE



也就是一共：

1个1级页表 有1024个PTE

1024个2级页表 每一个有1024个PTE

则一共有
$$
1024*1025=2^{20}+1024
$$
个PTE

比不分级多了1024个PTE的大小

但是为什么说二级页表可以压缩页表大小呢？

### 原因：

1. 如果一级页表里面的一个PTE是空的，那么相应的二级页表就不会存在。
2. 只有一级页表需要在主存里面一直保存。二级页表可以放在硬盘里面，只有最常使用的二级页表才放在主存里面。

